### 大背景  
- V8引擎是解决什么问题？随着web技术的快速发展，Javascript所要承担的工作也越来越多，早就超越了“表单验证”的范畴，这就更需要快速的解析和执行Javascript脚本。V8就是为了解决这一问题而生，在Node中也采用该引擎来解析Javascript. 
- 引擎

### V8是什么？  
V8 是 javascript 渲染引擎，随着chrome的发布（具体时间为2008年9月2号）。  


### V8之前Javascript的引擎做了什么？  
其他引擎：转换成字节码或解释执行；  
V8: 将js转为原生机器码（IA-32, x86-64, ARM, or MIPS CPUs）,并且使用了内联缓存（inline caching）等方法来提高性能。其可以独立运行，也可以嵌入到C++应用程序中运行。


### 一个完整JavaScript引擎的执行过程：

JavaScript本质上是一种解释型语言，与编译型语言不同的是它需要一边执行一边解析，而编译型语言在执行时已经完成编译。   
源代码 --> 抽象语法树 --> 字节码 --> JIT --> 本地代码；

- 抽象语法树   
![抽象语法树](https://ask.qcloudimg.com/http-save/yehe-1148531/rhiurti5js.png?imageView2/2/w/1620)

**为了节约将抽象语法树通过JIT技术转换成本地代码的时间**，V8放弃了生成字节码阶段的性能优化。而通过Profiler采集一些信息，来优化本地代码。  

在2017年4月底，v8 发布了5.9 版本，在此版本中新增了一个 Ignition 字节码解释器，并默认开启。做出这一改变的原因为：（主要动机）减轻机器码占用的内存空间，即牺牲时间换空间；提高代码的启动速度；对 v8 的代码进行重构，降低 v8 的代码复杂度（详细请看：(JS 引擎与字节码的不解之缘)[https://cnodejs.org/topic/59084a9cbbaf2f3f569be482]）


- JIT(即时编译)；
    - 在运行的过程中检查热点代码，然后把代码编译成目标机器的机器码；从而省去了绝大部分的解释开销。
    - 优点：补全边运行边编译的性能问题；
    - 缺点：开发成本大，基本上每一个语言需要一个即时编译；
    - 代表：java系为代表的各种虚拟机，V8引擎；

### V8引擎
前面，我们介绍了V8引擎的一些历史，下面我们重点来看看V8项目一些知识。  
V8项目的结构如下：   
![V8结构](https://ask.qcloudimg.com/http-save/yehe-1148531/2oihcp6vtv.png?imageView2/2/w/1620)  











